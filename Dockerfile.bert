FROM python:3.10-slim
WORKDIR /app
COPY requirements-bert.txt /app/
RUN pip install --no-cache-dir -r requirements-bert.txt
COPY . /app
ENV MODEL_DIR=/app/artifacts USE_BERT=1 BERT_MODEL_NAME=hfl/chinese-macbert-base
EXPOSE 8080
CMD ["uvicorn", "service.app:app", "--host", "0.0.0.0", "--port", "8080"]
